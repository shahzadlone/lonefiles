# Shahzad's Bash Prompt Configurations

# Set a :) (happy) if the last command was successful, otherwise show a :( (sad).
# PS1="\[\e[01;32m\]\u@\h \[\e[01;34m\]\W \`
        # if [ \${?} = 0 ]; then
            # echo -e '\[\e[01;32m\]:)';
        # else
            # echo -e '\[\e[01;31m\]:(';
        # fi
     # \` \[\e[01;34m\]$ \[\e[00m\]"

# Set a happy emoji if the last command was successful, otherwise show a sad emoji.
#PS1="\[\e[01;32m\]\u@\h \[\e[01;34m\]\w \`
#       if [ \${?} = 0 ]; then
#           echo -e '\[\e[01;33m\]\xE2\x98\xBA';
#       else
#           echo -e '\[\e[01;31m\]\xE2\x98\xB9';
#       fi
#    \` \[\e[01;34m\] $ \[\e[00m\]"

#success_indicator() {
#    if [ ${?} = 0 ]; then
#        echo -e '\[\e[01;33m\]\xE2\x98\xBA';
#    else
#        echo -e '\[\e[01;31m\]\xE2\x98\xB9';
#    fi
#}

git_branch() {
    # old implementation: git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/ {\ \1\ }/'

    if \git rev-parse --is-inside-work-tree > /dev/null 2>&1; then
        BRANCH=$(\git branch --show-current)
        if \git rev-parse --abbrev-ref --symbolic-full-name "@{u}" > /dev/null 2>&1; then
            BRANCH=$(\git rev-parse --abbrev-ref --symbolic-full-name "@{u}");
        fi
        printf " { %s }" "${BRANCH}";
    fi
}


PS1="\n\[\e[01;32m\]\u@\h \[\e[01;34m\]\w \`
       if [ \${?} = 0 ]; then
           echo -e '\[\e[01;33m\]\xE2\x98\xBA';
       else
           echo -e '\[\e[01;31m\]\xE2\x98\xB9';
       fi
    \`\$(git_branch)\n\[\e[01;34m\]$ \[\e[00m\]"
