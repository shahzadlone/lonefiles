# Shahzad's Git Configurations.

[user]
    email = shahzadlone@gmail.com
    name = Shahzad Lone

[merge]
    tool = vimdiff
    conflictstyle = diff3

[push]
    default = current

[pull]
    ff = only

[difftool]
    prompt = false

[diff]
    tool = vimdiff
    wsErrorHighlight = all

[color]
  ui = auto

[color "diff"]
    meta = yellow bold
    frag = magenta bold
    old = red bold
    new = green bold
    whitespace = blue reverse ul

[color "branch"]
    current = green bold
    local = cyan bold
    remote = yellow bold

[color "status"]
    added = green bold
    changed = yellow bold
    untracked = red bold

# HTTPS URL Shortcuts.
[url "https://gitlab.com/"]
    insteadOf = "h:gl:"

[url "https://github.com/"]
    insteadOf = "h:gh:"

[url "https://bitbucket.org/"]
    insteadOf = "h:bb:"

[url "https://gitlab.com/shahzadlone/"]
    insteadOf = "h:gls:"

[url "https://github.com/shahzadlone/"]
    insteadOf = "h:ghs:"

[url "https://bitbucket.com/shahzadlone/"]
    insteadOf = "h:bbs:"

# SSH URL Shortcuts.
[url "git@gitlab.com:"]
    insteadOf = "gl:"

[url "git@github.com:"]
    insteadOf = "gh:"

[url "git@bitbucket.org:"]
    insteadOf = "bb:"

[url "git@gitlab.com:shahzadlone/"]
    insteadOf = "gls:"

[url "git@github.com:shahzadlone/"]
    insteadOf = "ghs:"

[url "git@bitbucket.com:shahzadlone/"]
    insteadOf = "bbs:"

# Use SSH instead of https for github.
[url "ssh://git@github.com/"]
    insteadOf = https://github.com/

[pretty]
    custom = "%C(bold yellow)%h%C(bold magenta)%d %C(bold white)%ar %C(bold cyan)%s %C(bold blue)(%an)"
    #                         │                 │                │                │                └─ author name
    #                         │                 │                │                └─ message
    #                         │                 │                └─ date (relative)
    #                         │                 └─ decorations (branch, heads or tags)
    #                         └─ hash (abbreviated)

[core]
    editor = $VISUAL
    whitespace = fix,-indent-with-non-tab,trailing-space,cr-at-eol
    excludesfile = ~/.gitignore
    filemode = true
    # ==========[ Use delta as my pager, other delta configurations below. ]==========
    pager = delta

# Include delta configuration file that has the features I want to use.
[include]
    path = ~/.delta.gitconfig

[delta]
    features = lone-config lone-theme
    # side-by-side = true

[interactive]
    diffFilter = delta --color-only --features='lone-config lone-theme'


# ==========[ My Git Aliases that I have found handy time to time. ]==========
[alias]
    a = add
    aa = add -A
    ac  = !git add -A && git commit -v
    ap = add -p
    au  = add -u
    auc  = !git add -u && git commit -v
    b = branch
    ba = branch --all
    bl = blame
    c = commit -v
    ca = commit --amend
    ch = checkout
    chb = checkout -b
    cl = clone
    cl1 = clone --depth 1
    clb = clone --bare
    co = commit --date=\"1 day ago\" -v
    cp = cherry-pick
    d = diff --color
    drb = push -d origin 
    ds = diff --color --cached
    f = fetch
    fp = fetch --all --prune
    l = log --pretty=custom
    lf = log --first-parent
    lg   = log --graph --decorate --pretty=custom --abbrev-commit
    ln = log
    lo = log --graph --decorate --pretty=oneline --abbrev-commit
    loa = log --graph --decorate --pretty=oneline --abbrev-commit --all
    ls = ls-files
    lsf = !git ls-files | egrep -i
    lsr = remote -v
    m = merge
    o = origin
    p = push
    pbo = push branch origin
    pl = pull
    plm = pull --no-rebase
    plo = pull origin
    plr = pull --rebase
    po = push origin
    r = remote
    ra = remote add
    reb = rebase
    reba = rebase --abort
    rebc = rebase --continue
    rebe = rebase --edit-todo
    rebi = rebase -i
    res = reset
    rhar = reset --hard
    rl = reflog
    rm = rm -r
    rmc = rm -r --cached
    rmf = rm -r -f
    rmix = reset --mixed
    rmlc = reset --soft HEAD~1
    rr = remote remove
    rrup = remote remove upstream
    rsof = reset --soft
    rurl = remote set-url
    s = status
    sh = show
    sm = submodule
    st = stash
    stl = stash list
    u =  reset --hard "@{u}"
    up  = !git reset --hard "@{u}" && git pull
    wt = worktree

    # ==========[ Slightly advance git aliases. ]==========

    # Add a remote and fetch it.
    addr = "!addremote() { git remote add \"${1}\" \"${2}\" && git fetch \"${1}\"; }; addremote"

    # Add an upstream remote and fetch upstream.
    addup = "!addup() { git remote add upstream \"${1}\" && git fetch upstream; }; addup"

    # Find the base o
    base = "!getbase() { git merge-base \"${1}\" $(git branch --show-current); }; getbase"

    # Checkout a file(s) from another branch.
    # Example: `git chf develop query.go collection.go` will reset both the files to their state in develop.
    chf = "!chfile() { git fetch && git checkout \"${1}\" -- \"${@:2}\"; }; chfile"

    # Checksout (resets) the staged or non-staged file(s) to HEAD's state.
    # Example: `git clear query.go collection.go`
    clear =  "!clear() { git checkout HEAD -- \"${@:1}\"; }; clear"

    # Commit as if ${1} days ago.
    cod = "!oldcommit() { git commit --date=\"\"${1}\" day ago\" -v; }; oldcommit"

    # Diff with the commit that was back ${1} commit(s).
    dback = "!diffback() { git diff --color HEAD~\"${1}\"; }; diffback"

    # Delete remote branch.
    dbr = "!delrbranch() { git push origin --delete \"${1}\"; }; delrbranch"

    # Push current branch to a newly created upstream branch.
    pbr = "!pushb() { git symbolic-ref --short -q HEAD | xargs -I @ git push -u origin @; }; pushb"

    # Reverts to one commit ahead of the specified commit, keeping all the previous
    #  history upto HEAD. Basically, commits one on top of the previous history.
    revhis =  "!keephistory() { git revert --no-commit \"${1}\"..HEAD; }; keephistory"

    # Show me back that many commit. NOTE: back 1 commit is the latest commit (HEAD~0).
    shb = "!showback() { git show --pretty HEAD~\"${1}\"; }; showback"

    # Squash commits uptill (non-inclusive) the given commit hash into one commit.
    squash = "!squash() { git rebase -i \"${1}\"; }; squash"

    # Squash last x# of commits into one commit.
    squish = "!squish() { git rebase -i HEAD~\"${1}\"; }; squish"

    # Reset commits that were ontop / different than the given target (commit / branch).
    uncommit =  "!uncommit() { git reset --soft \"${1}\"; }; uncommit"

    # Reset commits and remove from the staging area, as it were before adding files.
    unindex =  "!unindex() { git reset --mixed \"${1}\"; }; unindex"

    # Unadds / Unstages a file or directory.
    unadd =  "!unadd() { git reset \"${@:1}\"; }; unadd"
    unstage =  "!unstage() { git reset HEAD -- \"${@:1}\"; }; unstage"
